{"version":3,"sources":["webpack:///krpano-vuejs/js/app.c4c78c2e984027cb1879.js","webpack:///./src/Editor.vue?c810","webpack:///Editor.vue","webpack:///MyDialog.vue","webpack:///./src/main.js","webpack:///./src/components/MyDialog.vue?f19d","webpack:///./src/components/MyDialog.vue?bf8b","webpack:///./src/Editor.vue?32c6"],"names":["webpackJsonp","26","module","exports","27","__webpack_require__","injectStyle","ssrContext","Component","29","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_parse_int__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_parse_int___default","__WEBPACK_IMPORTED_MODULE_3__components_MyDialog__","__WEBPACK_IMPORTED_MODULE_3__components_MyDialog___default","__WEBPACK_IMPORTED_MODULE_4_vue_slider_component__","__WEBPACK_IMPORTED_MODULE_4_vue_slider_component___default","name","components","MyDialog","a","VueSlider","data","krpano","document","querySelector","toSaveFlag","sceneList","currentSceneIndex","welcomeSceneIndex","showModifySceneNameFlag","toModifyScene","autoSpinFlag","autoSpinWaitingTime","minFov","maxFov","initFov","initFovMoveFlag","hotspotList","selectedHotspot","isHotspotMoving","showHotspotDetailFlag","currentHotspot","style","linkedscene","hotspotStyleList","imgUrl","requesting","computed","sceneNameValid","this","length","sliderValue","get","set","val","min","Math","max","fovmin","fovmax","initFovLeft","sliderWidth","clientWidth","round","sceneListExceptCurrent","_this","scenes","forEach","scene","index","push","methods","onready","getArray","getItem","thisVue","pano","onmouseup","onmouseout","onmousemove","moveHotspot","initView","initHotSpot","_this2","hotspots","hotspot","initHotspotEvent","changeModule","changeScene","_this3","call","currentScene","autorotate","enabled","waitTime","interrupt","initH","initV","fov","hotspotsModifyFlag","ath","atv","dive","loadstyle","setWelcome","save","_this4","alert","sceneData","welcomeFlag","isNaN","hotSpots","console","log","fetch","method","headers","Content-Type","body","then","res","status","text","resText","preview","window","open","showModifySceneName","modifySceneName","_this5","repeatFlag","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","err","return","oldName","toString","newName","renameItem","closeModifySceneName","setDefaultView","updatedAutoSpin","Number","moveInitFov","slider","left","event","clientX","offsetLeft","stopMoveInitFov","startMoveInitFov","ondown","selectHotspot","onover","onout","onclick","athDis","atvDis","showHotspotDetail","hotspotItem","hideHotspotDetail","selectHotspotStyle","selectHotspotLinkedScene","saveCurrentHotspot","init_h","init_v","Date","getTime","deleteCurrentHotspot","30","props","show","type","Boolean","default","title","String","close","$emit","31","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__Editor__","__WEBPACK_IMPORTED_MODULE_1__Editor___default","__WEBPACK_IMPORTED_MODULE_2_bulma__","config","productionTip","vm","el","template","Editor","$refs","editor","68","69","70","71","render","_vm","_h","$createElement","_c","_self","attrs","directives","rawName","expression","staticClass","_v","_s","on","click","_t","staticRenderFns","72","id","$event","_m","staticStyle","height","class","func-selected","_l","scene-item-selected","src","thumburl","home-selected","mousemove","mouseup","switch-checked","domProps","checked","Array","isArray","_i","change","__c","$$a","$$el","target","$$c","$$i","concat","slice","disabled","input","composing","mousedown","tooltipDir","dotSize","model","callback","$$v","hotspot-item-selected","url","hotspot-detail-style-selected","hotspot-detail-scene-selected"],"mappings":"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","file":"krpano-vuejs/js/app.c4c78c2e984027cb1879.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 26:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(69)\n}\nvar Component = __webpack_require__(25)(\n  /* script */\n  __webpack_require__(29),\n  /* template */\n  __webpack_require__(72),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-20f007d2\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_parse_int__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_parse_int___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_parse_int__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_MyDialog__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_MyDialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_MyDialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_slider_component__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_slider_component___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_slider_component__);\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'editor',\n  components: { MyDialog: __WEBPACK_IMPORTED_MODULE_3__components_MyDialog___default.a, VueSlider: __WEBPACK_IMPORTED_MODULE_4_vue_slider_component___default.a },\n  data: function data() {\n    return {\n      //krpano对象\n      krpano: document.querySelector('#krpanoSWFObject'),\n      //当前修改模块：0场景；1视角；2热点\n      module: 0,\n      //待保存标识\n      toSaveFlag: false,\n      //场景列表\n      sceneList: [],\n      //当前场景序号\n      currentSceneIndex: 0,\n      //欢迎页场景序号\n      welcomeSceneIndex: 0,\n      //展示修改场景名称标识\n      showModifySceneNameFlag: false,\n      //待修改场景对象\n      toModifyScene: {},\n      //自动旋转开启标识\n      autoSpinFlag: false,\n      //自动旋转等待时间\n      autoSpinWaitingTime: 0,\n      //最小fov\n      minFov: 0,\n      //最大fov\n      maxFov: 180,\n      //初始fov\n      initFov: 90,\n      //初始fov移动条移动开关\n      initFovMoveFlag: false,\n      //热点列表\n      hotspotList: [],\n      //选中移动热点\n      selectedHotspot: {},\n      //热点移动状态\n      isHotspotMoving: false,\n      //展示热点详情标识\n      showHotspotDetailFlag: false,\n      //当前热点\n      currentHotspot: {\n        style: null,\n        linkedscene: null\n      },\n      //热点图标样式列表\n      hotspotStyleList: [{\n        name: 'skin_hotspotstyle',\n        imgUrl: '../static/skin/vtourskin_hotspot.png'\n      }],\n      //接口请求状态\n      requesting: false\n    };\n  },\n\n  computed: {\n    //场景名称校验\n    sceneNameValid: function sceneNameValid() {\n      return this.toModifyScene.name && this.toModifyScene.name.length > 0 && this.toModifyScene.name.length < 10;\n    },\n\n    //视角拖动条范围值\n    sliderValue: {\n      get: function get() {\n        return [this.minFov, this.maxFov];\n      },\n      set: function set(val) {\n        var min = Math.min(val[0], val[1]);\n        var max = Math.max(val[0], val[1]);\n        if (this.sceneList[this.currentSceneIndex]) {\n          if (this.krpano.get('view.fovmin') != min) {\n            this.krpano.set('view.fovmin', min);\n            this.sceneList[this.currentSceneIndex].fovmin = min;\n            this.toSaveFlag = true;\n          }\n          if (this.krpano.get('view.fovmax') != max) {\n            this.krpano.set('view.fovmax', max);\n            this.sceneList[this.currentSceneIndex].fovmax = max;\n            this.toSaveFlag = true;\n          }\n        }\n        this.minFov = min;\n        this.maxFov = max;\n      }\n    },\n    //视角拖动条上组件左偏移量\n    initFovLeft: {\n      get: function get() {\n        var sliderWidth = document.querySelector('#editor').clientWidth * 5 / 6 - 32;\n        return this.initFov * sliderWidth / 180;\n      },\n      set: function set(val) {\n        var sliderWidth = document.querySelector('#editor').clientWidth * 5 / 6 - 32;\n        this.initFov = Math.round(val * 180 / sliderWidth);\n      }\n    },\n    //除当前场景外场景列表\n    sceneListExceptCurrent: function sceneListExceptCurrent() {\n      var _this = this;\n\n      var scenes = [];\n      this.sceneList.forEach(function (scene) {\n        if (scene.index != _this.currentSceneIndex) {\n          scenes.push(scene);\n        }\n      });\n      return scenes;\n    }\n  },\n  methods: {\n    //入口js文件已将此函数定义到window，krpano加载完成后调用\n    onready: function onready() {\n      //隐藏下方自带控制条\n      this.krpano.set('layer[skin_control_bar].visible', false);\n      this.krpano.set('layer[skin_splitter_bottom].visible', false);\n      this.krpano.set('layer[skin_scroll_window].visible', false);\n      //初始化场景\n      this.sceneList = this.krpano.get('scene').getArray();\n      this.currentSceneIndex = this.krpano.get('scene').getItem(this.krpano.get('xml.scene')).index;\n      this.welcomeSceneIndex = this.krpano.get('scene').getItem(this.krpano.get('startscene')).index;\n      //热点移动事件初始化\n      var thisVue = this;\n      var pano = document.querySelector('#pano');\n      pano.onmouseup = function () {\n        thisVue.isHotspotMoving = false;\n      };\n      pano.onmouseout = function () {\n        thisVue.isHotspotMoving = false;\n      };\n      pano.onmousemove = function () {\n        thisVue.moveHotspot();\n      };\n      //模块数据初始化\n      this.initView();\n      this.initHotSpot();\n    },\n\n    //根据krpano参数初始化视角和热点模块数据\n    initView: function initView() {\n      //初始化视角参数\n      this.autoSpinWaitingTime = this.krpano.get('autorotate.waittime');\n      this.autoSpinFlag = this.krpano.get('autorotate.enabled');\n      this.minFov = this.krpano.get('view.fovmin');\n      this.maxFov = this.krpano.get('view.fovmax');\n      this.initFov = this.krpano.get('view.fov');\n    },\n\n    //热点初始化\n    initHotSpot: function initHotSpot() {\n      var _this2 = this;\n\n      this.sceneList[this.currentSceneIndex].hotspots = [];\n      this.hotspotList = [];\n      this.krpano.get('hotspot').getArray().forEach(function (hotspot) {\n        if (hotspot.name != 'webvr_prev_scene' && hotspot.name != 'webvr_next_scene' && hotspot.name != 'vr_cursor') {\n          _this2.hotspotList.push(hotspot);\n          _this2.sceneList[_this2.currentSceneIndex].hotspots.push(hotspot);\n          _this2.initHotspotEvent(hotspot);\n        }\n      });\n    },\n\n    //切换操作模块\n    changeModule: function changeModule(module) {\n      this.module = module;\n    },\n\n    //切换当前场景\n    changeScene: function changeScene(scene) {\n      var _this3 = this;\n\n      if (this.currentSceneIndex == scene.index) return;\n      this.currentSceneIndex = scene.index;\n      this.krpano.call('loadscene(' + scene.name + ')');\n      var currentScene = this.sceneList[this.currentSceneIndex];\n      //加载临时存储数据应用于krpano\n      //自动旋转\n      if (currentScene.autorotate) {\n        this.krpano.set('autorotate.enabled', currentScene.autorotate.enabled);\n        this.krpano.set('autorotate.waittime', currentScene.autorotate.waitTime);\n      }\n      if (this.autoSpinFlag) this.krpano.get('autorotate').interrupt();\n      //视角\n      if (currentScene.initH) this.krpano.set('view.hlookat', currentScene.initH);\n      if (currentScene.initV) this.krpano.set('view.vlookat', currentScene.initV);\n      if (currentScene.fovmax) this.krpano.set('view.fovmax', currentScene.fovmax);\n      if (currentScene.fovmin) this.krpano.set('view.fovmin', currentScene.fovmin);\n      if (currentScene.fov) this.krpano.set('view.fov', currentScene.fov);\n      //热点\n      if (currentScene.hotspots && currentScene.hotspotsModifyFlag) {\n        //清除原有热点\n        this.krpano.get('hotspot').getArray().forEach(function (hotspot) {\n          if (hotspot.name != 'webvr_prev_scene' && hotspot.name != 'webvr_next_scene' && hotspot.name != 'vr_cursor') {\n            _this3.krpano.call('removehotspot(' + hotspot.name + ')');\n          }\n        });\n        //添加存储数据热点\n        currentScene.hotspots.forEach(function (hotspot) {\n          _this3.krpano.call('addhotspot(' + hotspot.name + ');');\n          _this3.krpano.set('hotspot[' + hotspot.name + '].ath', hotspot.ath);\n          _this3.krpano.set('hotspot[' + hotspot.name + '].atv', hotspot.atv);\n          _this3.krpano.set('hotspot[' + hotspot.name + '].linkedscene', hotspot.linkedscene);\n          _this3.krpano.set('hotspot[' + hotspot.name + '].dive', hotspot.dive);\n          _this3.krpano.get('hotspot[' + hotspot.name + ']').loadstyle(hotspot.style);\n        });\n      }\n      //初始化模块数据\n      this.initView();\n      this.initHotSpot();\n    },\n\n    //设置为home页\n    setWelcome: function setWelcome(index) {\n      this.welcomeSceneIndex = index;\n      this.toSaveFlag = true;\n    },\n\n    //保存\n    save: function save() {\n      var _this4 = this;\n\n      if (!this.toSaveFlag) return;\n      if (this.requesting) {\n        alert('保存中，请稍后再试');\n        return;\n      }\n      this.requesting = true;\n      var data = [];\n      this.sceneList.forEach(function (scene) {\n        var sceneData = {\n          index: scene.index,\n          name: scene.name,\n          welcomeFlag: scene.index == _this4.welcomeSceneIndex,\n          autorotate: scene.autorotate ? scene.autorotate : null,\n          fov: scene.fov ? scene.fov : null,\n          fovmax: scene.fovmax ? scene.fovmax : null,\n          fovmin: !isNaN(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_parse_int___default()(scene.fovmin)) ? scene.fovmin : null,\n          initH: scene.initH ? scene.initH : null,\n          initV: scene.initV ? scene.initV : null\n        };\n        if (scene.hotspots) {\n          var hotSpots = [];\n          scene.hotspots.forEach(function (hotspot) {\n            hotSpots.push({\n              ath: hotspot.ath,\n              atv: hotspot.atv,\n              name: hotspot.name,\n              linkedscene: hotspot.linkedscene,\n              style: hotspot.style,\n              dive: hotspot.dive\n            });\n          });\n          sceneData.hotSpots = hotSpots;\n        }\n        data.push(sceneData);\n      });\n      console.log(data);\n      fetch('/server/save', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        },\n        body: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(data)\n      }).then(function (res) {\n        _this4.requesting = false;\n        if (res.status === 200) {\n          res.text().then(function (resText) {\n            _this4.toSaveFlag = false;\n            alert(resText);\n          });\n        } else {\n          alert('系统异常');\n        }\n      }, function () {\n        _this4.requesting = false;\n        alert('系统异常');\n      });\n    },\n\n    //预览\n    preview: function preview() {\n      window.open('../static/tour.html');\n    },\n\n    //显示修改场景弹窗\n    showModifySceneName: function showModifySceneName(scene) {\n      this.toModifyScene = {\n        name: scene.name,\n        index: scene.index\n      };\n      this.showModifySceneNameFlag = true;\n    },\n\n    //修改场景名称\n    modifySceneName: function modifySceneName() {\n      var _this5 = this;\n\n      if (!this.sceneNameValid) return;\n      //判断是否重复\n      var repeatFlag = false;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.sceneList), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var scene = _step.value;\n\n          if (scene.name == this.toModifyScene.name) {\n            repeatFlag = true;\n            break;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (repeatFlag) {\n        alert('场景名称重复');\n        return;\n      }\n      //修改场景名称（相关联的热点，当前场景scene名称也需修改）\n      var oldName = this.sceneList[this.toModifyScene.index].name.toString();\n      var newName = this.toModifyScene.name.toString();\n      //修改krpano场景对象名称\n      this.krpano.get('scene').renameItem(oldName, newName);\n      this.sceneList[this.toModifyScene.index].name = newName;\n      //修改krpano热点指向场景名称\n      this.sceneList.forEach(function (scene) {\n        if (scene.hotspots && scene.index != _this5.toModifyScene.index) {\n          scene.hotspots.forEach(function (hotspot) {\n            if (hotspot.linkedscene == oldName) {\n              hotspot.linkedscene = newName;\n              scene.hotspotsModifyFlag = true;\n              if (scene.index == _this5.currentSceneIndex) _this5.krpano.set('hotspot[' + hotspot.name + '].linkedscene', newName);\n            }\n          });\n        }\n      });\n      this.showModifySceneNameFlag = false;\n      this.toSaveFlag = true;\n    },\n\n    //关闭修改场景弹窗\n    closeModifySceneName: function closeModifySceneName() {\n      this.showModifySceneNameFlag = false;\n    },\n\n    //设为初始视角\n    setDefaultView: function setDefaultView() {\n      var fov = Math.round(this.krpano.get('view.fov'));\n      this.initFov = fov;\n      this.sceneList[this.currentSceneIndex].fov = fov;\n      this.sceneList[this.currentSceneIndex].initH = this.krpano.get('view.hlookat');\n      this.sceneList[this.currentSceneIndex].initV = this.krpano.get('view.vlookat');\n      this.toSaveFlag = true;\n    },\n\n    //自动旋转变更\n    updatedAutoSpin: function updatedAutoSpin() {\n      this.krpano.set('autorotate.enabled', this.autoSpinFlag);\n      this.krpano.set('autorotate.waittime', this.autoSpinWaitingTime);\n      if (this.autoSpinFlag) this.krpano.get('autorotate').interrupt();\n      this.sceneList[this.currentSceneIndex].autorotate = {\n        enabled: this.autoSpinFlag,\n        waitTime: Number(this.autoSpinWaitingTime)\n      };\n      this.toSaveFlag = true;\n    },\n\n    //视角条拖动\n    moveInitFov: function moveInitFov() {\n      if (this.initFovMoveFlag) {\n        var slider = document.querySelector('.view-top-slider');\n        var left = window.event.clientX - slider.offsetLeft;\n        if (left < Math.round(this.minFov * slider.clientWidth / 180)) {\n          if (left < -6) this.stopMoveInitFov();\n          left = Math.round(this.minFov * slider.clientWidth / 180);\n        } else if (left > Math.round(this.maxFov * slider.clientWidth / 180)) {\n          if (left > slider.clientWidth + 6) this.stopMoveInitFov();\n          left = Math.round(this.maxFov * slider.clientWidth / 180);\n        }\n        this.initFovLeft = left;\n        this.krpano.set('view.fov', this.initFov);\n        this.sceneList[this.currentSceneIndex].fov = this.initFov;\n        this.toSaveFlag = true;\n      }\n    },\n    startMoveInitFov: function startMoveInitFov() {\n      this.initFovMoveFlag = true;\n      this.moveInitFov();\n    },\n    stopMoveInitFov: function stopMoveInitFov() {\n      this.initFovMoveFlag = false;\n    },\n\n    //热点事件初始化\n    initHotspotEvent: function initHotspotEvent(hotspot) {\n      var thisVue = this;\n      hotspot.ondown = function () {\n        thisVue.selectedHotspot = hotspot;\n        thisVue.selectHotspot();\n        thisVue.isHotspotMoving = true;\n      };\n      hotspot.onover = function () {\n        thisVue.selectedHotspot = hotspot;\n      };\n      hotspot.onout = function () {\n        thisVue.selectedHotspot = {};\n      };\n      hotspot.onclick = null;\n    },\n\n    //热点坐标与鼠标坐标偏移计算\n    selectHotspot: function selectHotspot() {\n      this.krpano.call('screentosphere(mouse.x, mouse.y, mouseath, mouseatv);');\n      this.selectedHotspot.athDis = this.selectedHotspot.ath - this.krpano.get('mouseath');\n      this.selectedHotspot.atvDis = this.selectedHotspot.atv - this.krpano.get('mouseatv');\n    },\n\n    //热点移动\n    moveHotspot: function moveHotspot() {\n      if (this.isHotspotMoving) {\n        this.krpano.call('screentosphere(mouse.x, mouse.y, mouseath, mouseatv);');\n        this.krpano.set('hotspot[' + this.selectedHotspot.name + '].ath', this.krpano.get(\"mouseath\") + this.selectedHotspot.athDis);\n        this.krpano.set('hotspot[' + this.selectedHotspot.name + '].atv', this.krpano.get(\"mouseatv\") + this.selectedHotspot.atvDis);\n      }\n    },\n\n    //显示热点详情\n    showHotspotDetail: function showHotspotDetail(hotspotItem) {\n      this.currentHotspot = hotspotItem ? hotspotItem : {\n        style: this.hotspotStyleList[0].name,\n        linkedscene: this.sceneListExceptCurrent[0].name,\n        dive: true\n      };\n      this.showHotspotDetailFlag = true;\n    },\n\n    //隐藏热点详情\n    hideHotspotDetail: function hideHotspotDetail() {\n      this.showHotspotDetailFlag = false;\n    },\n\n    //选择热点图标样式\n    selectHotspotStyle: function selectHotspotStyle(name) {\n      this.currentHotspot.style = name;\n    },\n\n    //选择切换场景热点目标场景\n    selectHotspotLinkedScene: function selectHotspotLinkedScene(name) {\n      this.currentHotspot.linkedscene = name;\n    },\n\n    //保存当前热点变动\n    saveCurrentHotspot: function saveCurrentHotspot() {\n      if (!this.currentHotspot.name) {\n        // 计算中间位置的球面坐标\n        this.krpano.set('halfHeight', this.krpano.get('stageheight') / 2);\n        this.krpano.set('halfWidth', this.krpano.get('stagewidth') / 2);\n        this.krpano.call('screentosphere(halfWidth,halfHeight,init_h,init_v);');\n        var init_h = this.krpano.get('init_h');\n        var init_v = this.krpano.get('init_v');\n        //添加热点\n        var name = 'spot' + new Date().getTime();\n        this.krpano.call('addhotspot(' + name + ');');\n        this.krpano.get('hotspot[' + name + ']').loadstyle(this.currentHotspot.style);\n        this.krpano.set('hotspot[' + name + '].ath', init_h);\n        this.krpano.set('hotspot[' + name + '].atv', init_v);\n        this.krpano.set('hotspot[' + name + '].linkedscene', this.currentHotspot.linkedscene);\n        this.krpano.set('hotspot[' + name + '].dive', this.currentHotspot.dive);\n      }\n      this.initHotSpot();\n      this.showHotspotDetailFlag = false;\n      this.toSaveFlag = true;\n    },\n\n    //删除热点\n    deleteCurrentHotspot: function deleteCurrentHotspot() {\n      this.krpano.call('removehotspot(' + this.currentHotspot.name + ')');\n      this.initHotSpot();\n      this.showHotspotDetailFlag = false;\n      this.toSaveFlag = true;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'mydialog',\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: ''\n    }\n  },\n  methods: {\n    close: function close() {\n      this.$emit('close');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Editor__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Editor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__Editor__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bulma__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bulma___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bulma__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n//noinspection ES6UnusedImports\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nvar vm = new __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#editor',\n  template: '<Editor ref=\"editor\"/>',\n  components: { Editor: __WEBPACK_IMPORTED_MODULE_1__Editor___default.a }\n});\n\nwindow.onready = function () {\n  vm.$refs.editor.onready();\n};\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(68)\n}\nvar Component = __webpack_require__(25)(\n  /* script */\n  __webpack_require__(30),\n  /* template */\n  __webpack_require__(71),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1fa42018\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.show),\n      expression: \"show\"\n    }],\n    staticClass: \"dialog\"\n  }, [_c('div', {\n    staticClass: \"dialog-head\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-close\",\n    on: {\n      \"click\": _vm.close\n    }\n  }, [_c('a', {\n    staticClass: \"delete is-medium\"\n  })])]), _vm._v(\" \"), _vm._t(\"default\")], 2)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.show),\n      expression: \"show\"\n    }],\n    staticClass: \"alpha\"\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"editor\"\n    }\n  }, [_c('div', {\n    staticClass: \"columns is-gapless\"\n  }, [_c('div', {\n    staticClass: \"column is-2 func-div\"\n  }, [_c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.save()\n      }\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.toSaveFlag),\n      expression: \"toSaveFlag\"\n    }],\n    staticClass: \"to-save\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.preview()\n      }\n    }\n  }, [_vm._m(1), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"预览\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"100px\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    class: {\n      'func-selected': _vm.module == 0\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeModule(0)\n      }\n    }\n  }, [_vm._m(2), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"场景\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    class: {\n      'func-selected': _vm.module == 1\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeModule(1)\n      }\n    }\n  }, [_vm._m(3), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"视角\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    class: {\n      'func-selected': _vm.module == 2\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeModule(2)\n      }\n    }\n  }, [_vm._m(4), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"热点\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column is-10\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 0),\n      expression: \"module == 0\"\n    }],\n    staticClass: \"scene-module has-text-white\"\n  }, [_c('h5', {\n    staticClass: \"title is-5 has-text-white scene-title\"\n  }, [_vm._v(\"场景列表\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _vm._l((_vm.sceneList), function(scene) {\n    return _c('div', {\n      staticClass: \"scene-item\",\n      class: {\n        'scene-item-selected': scene.index == _vm.currentSceneIndex\n      }\n    }, [_c('div', {\n      staticClass: \"scene-name\",\n      on: {\n        \"click\": function($event) {\n          _vm.changeScene(scene)\n        }\n      }\n    }, [_vm._v(_vm._s(scene.name))]), _vm._v(\" \"), _c('figure', {\n      staticClass: \"image is-128x128\",\n      on: {\n        \"click\": function($event) {\n          _vm.changeScene(scene)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": scene.thumburl\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"pencil\",\n      on: {\n        \"click\": function($event) {\n          _vm.showModifySceneName(scene)\n        }\n      }\n    }, [_vm._m(5, true)]), _vm._v(\" \"), _c('div', {\n      staticClass: \"home\",\n      on: {\n        \"click\": function($event) {\n          _vm.setWelcome(scene.index)\n        }\n      }\n    }, [_c('a', {\n      staticClass: \"button is-primary is-inverted is-outlined\",\n      class: {\n        'home-selected': scene.index == _vm.welcomeSceneIndex\n      }\n    }, [_vm._m(6, true)])])])\n  })], 2), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 1),\n      expression: \"module == 1\"\n    }],\n    staticClass: \"view-module has-text-white\",\n    on: {\n      \"mousemove\": function($event) {\n        _vm.moveInitFov()\n      },\n      \"mouseup\": function($event) {\n        _vm.stopMoveInitFov()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"view-content\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"\\n            自动旋转\\n            \"), _c('label', {\n    staticClass: \"switch is-info view-switch\",\n    class: {\n      'switch-checked': _vm.autoSpinFlag\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.autoSpinFlag),\n      expression: \"autoSpinFlag\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.autoSpinFlag) ? _vm._i(_vm.autoSpinFlag, null) > -1 : (_vm.autoSpinFlag)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.updatedAutoSpin()\n      },\n      \"__c\": function($event) {\n        var $$a = _vm.autoSpinFlag,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.autoSpinFlag = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.autoSpinFlag = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.autoSpinFlag = $$c\n        }\n      }\n    }\n  })])]), _vm._v(\" \"), _c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"\\n            等待时间（秒）\\n            \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.autoSpinWaitingTime),\n      expression: \"autoSpinWaitingTime\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": !_vm.autoSpinFlag\n    },\n    domProps: {\n      \"value\": (_vm.autoSpinWaitingTime)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.updatedAutoSpin()\n      },\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.autoSpinWaitingTime = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"view-content\"\n  }, [_c('div', {\n    staticClass: \"view-slider\"\n  }, [_c('div', {\n    staticClass: \"view-top-slider\",\n    on: {\n      \"mousedown\": function($event) {\n        _vm.startMoveInitFov()\n      }\n    }\n  }, [_c('span', {\n    style: ({\n      left: _vm.initFovLeft + 'px'\n    })\n  }, [_c('i', {\n    staticClass: \"fa fa-map-marker\"\n  })])]), _vm._v(\" \"), _c('vue-slider', {\n    attrs: {\n      \"max\": 180,\n      \"tooltipDir\": ['bottom', 'bottom'],\n      \"dotSize\": 12,\n      \"show\": _vm.module == 1\n    },\n    model: {\n      value: (_vm.sliderValue),\n      callback: function($$v) {\n        _vm.sliderValue = $$v\n      },\n      expression: \"sliderValue\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"columns has-text-centered\"\n  }, [_c('div', {\n    staticClass: \"column is-4\"\n  }, [_c('span', [_vm._v(\"最近\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.minFov),\n      expression: \"minFov\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.minFov)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.minFov = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column is-4\"\n  }, [_c('span', [_vm._v(\"初始\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.initFov),\n      expression: \"initFov\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.initFov)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.initFov = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column is-4\"\n  }, [_c('span', [_vm._v(\"最远\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.maxFov),\n      expression: \"maxFov\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.maxFov)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.maxFov = $event.target.value\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 2),\n      expression: \"module == 2\"\n    }],\n    staticClass: \"hotspot-module\"\n  }, [_c('div', {\n    staticClass: \"hotspot-add\"\n  }, [_c('a', {\n    staticClass: \"button is-small is-info\",\n    on: {\n      \"click\": function($event) {\n        _vm.showHotspotDetail()\n      }\n    }\n  }, [_vm._v(\"添加热点\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"hotspot-list\"\n  }, _vm._l((_vm.hotspotList), function(hotspotItem) {\n    return _c('div', {\n      staticClass: \"hotspot-item\",\n      class: {\n        'hotspot-item-selected': _vm.selectedHotspot.name == hotspotItem.name\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.showHotspotDetail(hotspotItem)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": hotspotItem.url\n      }\n    }), _vm._v(\" \"), _c('div', [_vm._v(\"场景切换\")])])\n  }))])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showHotspotDetailFlag),\n      expression: \"showHotspotDetailFlag\"\n    }],\n    staticClass: \"hotspot-detail\"\n  }, [_c('div', {\n    staticClass: \"hotspot-detail-header\"\n  }, [_c('span', [_vm._v(_vm._s(_vm.currentHotspot.name ? '编辑' : '新增') + \"热点\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"delete is-large is-pulled-right\",\n    on: {\n      \"click\": function($event) {\n        _vm.hideHotspotDetail()\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"hotspot-detail-content\"\n  }, [_c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"图标样式\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"columns is-multiline hotspot-detail-style-list\"\n  }, _vm._l((_vm.hotspotStyleList), function(style) {\n    return _c('div', {\n      staticClass: \"column is-4\"\n    }, [_c('div', {\n      staticClass: \"hotspot-detail-style\",\n      class: {\n        'hotspot-detail-style-selected': style.name == _vm.currentHotspot.style\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectHotspotStyle(style.name)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": style.imgUrl\n      }\n    })])])\n  }))]), _vm._v(\" \"), _vm._m(7), _vm._v(\" \"), _vm._m(8), _vm._v(\" \"), _c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"目标场景\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"columns is-multiline hotspot-detail-scene-list\"\n  }, _vm._l((_vm.sceneListExceptCurrent), function(scene) {\n    return _c('div', {\n      staticClass: \"column is-6 has-text-centered\"\n    }, [_c('div', {\n      staticClass: \"hotspot-detail-scene\",\n      class: {\n        'hotspot-detail-scene-selected': scene.name == _vm.currentHotspot.linkedscene\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectHotspotLinkedScene(scene.name)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": scene.thumburl\n      }\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(scene.name))])])])\n  }))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"field hotspot-detail-button\"\n  }, [_c('button', {\n    staticClass: \"button is-info\",\n    on: {\n      \"click\": function($event) {\n        _vm.saveCurrentHotspot()\n      }\n    }\n  }, [_vm._v(\"确定\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentHotspot.name),\n      expression: \"currentHotspot.name\"\n    }],\n    staticClass: \"field hotspot-detail-button\"\n  }, [_c('button', {\n    staticClass: \"button is-danger\",\n    on: {\n      \"click\": function($event) {\n        _vm.deleteCurrentHotspot()\n      }\n    }\n  }, [_vm._v(\"删除\")])])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 1),\n      expression: \"module == 1\"\n    }],\n    staticClass: \"camera\"\n  }, [_c('div', {\n    staticClass: \"camera-top\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-bottom\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-left\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-right\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-left-top\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-top-left\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-top-right\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-right-top\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-left-bottom\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-bottom-left\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-bottom-right\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-right-bottom\"\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"button is-info camera-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.setDefaultView()\n      }\n    }\n  }, [_vm._v(\"设为初始视角\")])]), _vm._v(\" \"), _c('my-dialog', {\n    attrs: {\n      \"show\": _vm.showModifySceneNameFlag,\n      \"title\": \"场景修改\"\n    },\n    on: {\n      \"close\": _vm.closeModifySceneName\n    }\n  }, [_c('div', {\n    staticClass: \"modify-scene-name\"\n  }, [_c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"场景名称\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.toModifyScene.name),\n      expression: \"toModifyScene.name\"\n    }],\n    staticClass: \"input\",\n    domProps: {\n      \"value\": (_vm.toModifyScene.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.toModifyScene.name = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('span', [_vm._v(\"场景名称\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"button\",\n    attrs: {\n      \"disabled\": !_vm.sceneNameValid\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modifySceneName()\n      }\n    }\n  }, [_vm._v(\"确定\")])])])], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-floppy-o\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-search\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-window-restore\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-eye\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-dot-circle-o\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    staticClass: \"button is-primary is-inverted is-outlined\"\n  }, [_c('span', {\n    staticClass: \"icon\"\n  }, [_c('i', {\n    staticClass: \"fa fa-pencil\"\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon\"\n  }, [_c('i', {\n    staticClass: \"fa fa-home\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"热点类型\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"control\"\n  }, [_c('div', {\n    staticClass: \"select is-info is-small\"\n  }, [_c('select', [_c('option', [_vm._v(\"场景切换\")])])])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"切换效果\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"control\"\n  }, [_c('div', {\n    staticClass: \"select is-info is-small\"\n  }, [_c('select', [_c('option', [_vm._v(\"淡入淡出\")])])])])])\n}]}\n\n/***/ })\n\n},[31]);\n\n\n// WEBPACK FOOTER //\n// krpano-vuejs/js/app.c4c78c2e984027cb1879.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20f007d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20f007d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-20f007d2\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Editor.vue\n// module id = 27\n// module chunks = 1","<template>\n  <div id=\"editor\">\n    <div class=\"columns is-gapless\">\n      <div class=\"column is-2 func-div\">\n        <div class=\"has-text-centered has-text-white func-button\" @click=\"save()\">\n          <span class=\"icon is-small\"><i class=\"fa fa-floppy-o\"></i></span>\n          <span class=\"func-button-text\">保存</span>\n          <div v-show=\"toSaveFlag\" class=\"to-save\"></div>\n        </div>\n        <div class=\"line\"></div>\n        <div class=\"has-text-centered has-text-white func-button\" @click=\"preview()\">\n          <span class=\"icon is-small\"><i class=\"fa fa-search\"></i></span>\n          <span class=\"func-button-text\">预览</span>\n        </div>\n        <div class=\"line\"></div>\n        <div style=\"height: 100px\"></div>\n        <div class=\"line\"></div>\n        <div class=\"has-text-centered has-text-white func-button\"\n             :class=\"{'func-selected' : module == 0}\" @click=\"changeModule(0)\">\n          <span class=\"icon is-small\"><i class=\"fa fa-window-restore\"></i></span>\n          <span class=\"func-button-text\">场景</span>\n        </div>\n        <div class=\"line\"></div>\n        <div class=\"has-text-centered has-text-white func-button\"\n             :class=\"{'func-selected' : module == 1}\" @click=\"changeModule(1)\">\n          <span class=\"icon is-small\"><i class=\"fa fa-eye\"></i></span>\n          <span class=\"func-button-text\">视角</span>\n        </div>\n        <div class=\"line\"></div>\n        <div class=\"has-text-centered has-text-white func-button\"\n             :class=\"{'func-selected' : module == 2}\" @click=\"changeModule(2)\">\n          <span class=\"icon is-small\"><i class=\"fa fa-dot-circle-o\"></i></span>\n          <span class=\"func-button-text\">热点</span>\n        </div>\n        <div class=\"line\"></div>\n      </div>\n      <div class=\"column is-10\">\n        <div class=\"scene-module has-text-white\" v-show=\"module == 0\">\n          <h5 class=\"title is-5 has-text-white scene-title\">场景列表</h5>\n          <div class=\"line\"></div>\n          <div class=\"scene-item\" v-for=\"scene in sceneList\"\n               :class=\"{'scene-item-selected' : scene.index == currentSceneIndex}\">\n            <div class=\"scene-name\" @click=\"changeScene(scene)\">{{scene.name}}</div>\n            <figure class=\"image is-128x128\" @click=\"changeScene(scene)\">\n              <img :src=\"scene.thumburl\">\n            </figure>\n            <div class=\"pencil\" @click=\"showModifySceneName(scene)\">\n              <a class=\"button is-primary is-inverted is-outlined\"><span class=\"icon\"><i\n                class=\"fa fa-pencil\"></i></span></a>\n            </div>\n            <div class=\"home\" @click=\"setWelcome(scene.index)\">\n              <a class=\"button is-primary is-inverted is-outlined\"\n                 :class=\"{'home-selected': scene.index == welcomeSceneIndex}\">\n                <span class=\"icon\"><i class=\"fa fa-home\"></i></span>\n              </a>\n            </div>\n          </div>\n        </div>\n        <div class=\"view-module has-text-white\" v-show=\"module == 1\"\n             @mousemove=\"moveInitFov()\" @mouseup=\"stopMoveInitFov()\">\n          <div class=\"view-content\">\n            <label class=\"label has-text-white\">\n              自动旋转\n              <label class=\"switch is-info view-switch\" :class=\"{'switch-checked':autoSpinFlag}\">\n                <input type=\"checkbox\" v-model=\"autoSpinFlag\" @change=\"updatedAutoSpin()\">\n              </label>\n            </label>\n            <label class=\"label has-text-white\">\n              等待时间（秒）\n              <input class=\"input is-small\" :disabled=\"!autoSpinFlag\" v-model=\"autoSpinWaitingTime\"\n                     @change=\"updatedAutoSpin()\">\n            </label>\n          </div>\n          <div class=\"line\"></div>\n          <div class=\"view-content\">\n            <div class=\"view-slider\">\n              <div class=\"view-top-slider\" @mousedown=\"startMoveInitFov()\">\n                <span :style=\"{ left: initFovLeft + 'px'}\"><i class=\"fa fa-map-marker\"></i></span>\n              </div>\n              <vue-slider v-model=\"sliderValue\" :max=\"180\" :tooltipDir=\"['bottom','bottom']\"\n                          :dotSize=\"12\" :show=\"module == 1\"></vue-slider>\n            </div>\n            <div class=\"columns has-text-centered\">\n              <div class=\"column is-4\">\n                <span>最近</span>\n                <input class=\"input is-small\" v-model=\"minFov\" disabled>\n              </div>\n              <div class=\"column is-4\">\n                <span>初始</span>\n                <input class=\"input is-small\" v-model=\"initFov\" disabled>\n              </div>\n              <div class=\"column is-4\">\n                <span>最远</span>\n                <input class=\"input is-small\" v-model=\"maxFov\" disabled>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"hotspot-module\" v-show=\"module == 2\">\n          <div class=\"hotspot-add\">\n            <a class=\"button is-small is-info\" @click=\"showHotspotDetail()\">添加热点</a>\n          </div>\n          <div class=\"line\"></div>\n          <div class=\"hotspot-list\">\n            <div class=\"hotspot-item\" v-for=\"hotspotItem in hotspotList\" @click=\"showHotspotDetail(hotspotItem)\"\n                 :class=\"{'hotspot-item-selected':  selectedHotspot.name == hotspotItem.name}\">\n              <img :src=\"hotspotItem.url\">\n              <div>场景切换</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"hotspot-detail\" v-show=\"showHotspotDetailFlag\">\n      <div class=\"hotspot-detail-header\">\n        <span>{{currentHotspot.name ? '编辑' : '新增'}}热点</span>\n        <a class=\"delete is-large is-pulled-right\" @click=\"hideHotspotDetail()\"></a>\n      </div>\n      <div class=\"line\"></div>\n      <div class=\"hotspot-detail-content\">\n        <div class=\"field\">\n          <label class=\"label has-text-white\">图标样式</label>\n          <div class=\"columns is-multiline hotspot-detail-style-list\">\n            <div class=\"column is-4\" v-for=\"style in hotspotStyleList\">\n              <div class=\"hotspot-detail-style\" @click=\"selectHotspotStyle(style.name)\"\n                   :class=\"{'hotspot-detail-style-selected': style.name==currentHotspot.style}\">\n                <img :src=\"style.imgUrl\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"field\">\n          <label class=\"label has-text-white\">热点类型</label>\n          <div class=\"control\">\n            <div class=\"select is-info is-small\">\n              <select>\n                <option>场景切换</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div class=\"field\">\n          <label class=\"label has-text-white\">切换效果</label>\n          <div class=\"control\">\n            <div class=\"select is-info is-small\">\n              <select>\n                <option>淡入淡出</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div class=\"field\">\n          <label class=\"label has-text-white\">目标场景</label>\n          <div class=\"columns is-multiline hotspot-detail-scene-list\">\n            <div class=\"column is-6 has-text-centered\" v-for=\"scene in sceneListExceptCurrent\">\n              <div class=\"hotspot-detail-scene\" @click=\"selectHotspotLinkedScene(scene.name)\"\n                   :class=\"{'hotspot-detail-scene-selected': scene.name==currentHotspot.linkedscene}\">\n                <img :src=\"scene.thumburl\">\n                <span>{{scene.name}}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"field hotspot-detail-button\">\n          <button class=\"button is-info\" @click=\"saveCurrentHotspot()\">确定</button>\n        </div>\n        <div class=\"field hotspot-detail-button\" v-show=\"currentHotspot.name\">\n          <button class=\"button is-danger\" @click=\"deleteCurrentHotspot()\">删除</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"camera\" v-show=\"module == 1\">\n      <div class=\"camera-top\"></div>\n      <div class=\"camera-bottom\"></div>\n      <div class=\"camera-left\"></div>\n      <div class=\"camera-right\"></div>\n      <div class=\"camera-left-top\"></div>\n      <div class=\"camera-top-left\"></div>\n      <div class=\"camera-top-right\"></div>\n      <div class=\"camera-right-top\"></div>\n      <div class=\"camera-left-bottom\"></div>\n      <div class=\"camera-bottom-left\"></div>\n      <div class=\"camera-bottom-right\"></div>\n      <div class=\"camera-right-bottom\"></div>\n      <a class=\"button is-info camera-button\" @click=\"setDefaultView()\">设为初始视角</a>\n    </div>\n    <my-dialog :show=\"showModifySceneNameFlag\" title=\"场景修改\" v-on:close=\"closeModifySceneName\">\n      <div class=\"modify-scene-name\">\n        <div class=\"field\">\n          <label class=\"label\">场景名称</label>\n          <p class=\"control\">\n            <input class=\"input\" v-model=\"toModifyScene.name\">\n          </p>\n        </div>\n        <span>场景名称</span>\n        <a class=\"button\" :disabled=\"!sceneNameValid\" @click=\"modifySceneName()\">确定</a>\n      </div>\n    </my-dialog>\n  </div>\n</template>\n\n<script>\n\n  import MyDialog from './components/MyDialog'\n  import VueSlider from 'vue-slider-component'\n\n  export default {\n    name: 'editor',\n    components: {MyDialog, VueSlider},\n    data() {\n      return {\n        //krpano对象\n        krpano: document.querySelector('#krpanoSWFObject'),\n        //当前修改模块：0场景；1视角；2热点\n        module: 0,\n        //待保存标识\n        toSaveFlag: false,\n        //场景列表\n        sceneList: [],\n        //当前场景序号\n        currentSceneIndex: 0,\n        //欢迎页场景序号\n        welcomeSceneIndex: 0,\n        //展示修改场景名称标识\n        showModifySceneNameFlag: false,\n        //待修改场景对象\n        toModifyScene: {},\n        //自动旋转开启标识\n        autoSpinFlag: false,\n        //自动旋转等待时间\n        autoSpinWaitingTime: 0,\n        //最小fov\n        minFov: 0,\n        //最大fov\n        maxFov: 180,\n        //初始fov\n        initFov: 90,\n        //初始fov移动条移动开关\n        initFovMoveFlag: false,\n        //热点列表\n        hotspotList: [],\n        //选中移动热点\n        selectedHotspot: {},\n        //热点移动状态\n        isHotspotMoving: false,\n        //展示热点详情标识\n        showHotspotDetailFlag: false,\n        //当前热点\n        currentHotspot: {\n          style: null,\n          linkedscene: null\n        },\n        //热点图标样式列表\n        hotspotStyleList: [\n          {\n            name: 'skin_hotspotstyle',\n            imgUrl: '../static/skin/vtourskin_hotspot.png'\n          }\n        ],\n        //接口请求状态\n        requesting: false\n      }\n    },\n    computed: {\n      //场景名称校验\n      sceneNameValid() {\n        return this.toModifyScene.name && this.toModifyScene.name.length > 0 && this.toModifyScene.name.length < 10\n      },\n      //视角拖动条范围值\n      sliderValue: {\n        get: function () {\n          return [\n            this.minFov,\n            this.maxFov\n          ]\n        },\n        set: function (val) {\n          let min = Math.min(val[0], val[1])\n          let max = Math.max(val[0], val[1])\n          if (this.sceneList[this.currentSceneIndex]) {\n            if (this.krpano.get('view.fovmin') != min) {\n              this.krpano.set('view.fovmin', min)\n              this.sceneList[this.currentSceneIndex].fovmin = min\n              this.toSaveFlag = true\n            }\n            if (this.krpano.get('view.fovmax') != max) {\n              this.krpano.set('view.fovmax', max)\n              this.sceneList[this.currentSceneIndex].fovmax = max\n              this.toSaveFlag = true\n            }\n          }\n          this.minFov = min\n          this.maxFov = max\n        }\n      },\n      //视角拖动条上组件左偏移量\n      initFovLeft: {\n        get: function () {\n          let sliderWidth = document.querySelector('#editor').clientWidth * 5 / 6 - 32\n          return this.initFov * sliderWidth / 180\n        },\n        set: function (val) {\n          let sliderWidth = document.querySelector('#editor').clientWidth * 5 / 6 - 32\n          this.initFov = Math.round(val * 180 / sliderWidth)\n        }\n      },\n      //除当前场景外场景列表\n      sceneListExceptCurrent() {\n        let scenes = []\n        this.sceneList.forEach((scene) => {\n          if (scene.index != this.currentSceneIndex) {\n            scenes.push(scene)\n          }\n        })\n        return scenes\n      }\n    },\n    methods: {\n      //入口js文件已将此函数定义到window，krpano加载完成后调用\n      onready() {\n        //隐藏下方自带控制条\n        this.krpano.set('layer[skin_control_bar].visible', false);\n        this.krpano.set('layer[skin_splitter_bottom].visible', false);\n        this.krpano.set('layer[skin_scroll_window].visible', false);\n        //初始化场景\n        this.sceneList = this.krpano.get('scene').getArray()\n        this.currentSceneIndex = this.krpano.get('scene').getItem(this.krpano.get('xml.scene')).index\n        this.welcomeSceneIndex = this.krpano.get('scene').getItem(this.krpano.get('startscene')).index\n        //热点移动事件初始化\n        let thisVue = this\n        let pano = document.querySelector('#pano')\n        pano.onmouseup = function () {\n          thisVue.isHotspotMoving = false\n        }\n        pano.onmouseout = function () {\n          thisVue.isHotspotMoving = false\n        }\n        pano.onmousemove = function () {\n          thisVue.moveHotspot()\n        }\n        //模块数据初始化\n        this.initView()\n        this.initHotSpot()\n\n      },\n      //根据krpano参数初始化视角和热点模块数据\n      initView() {\n        //初始化视角参数\n        this.autoSpinWaitingTime = this.krpano.get('autorotate.waittime')\n        this.autoSpinFlag = this.krpano.get('autorotate.enabled')\n        this.minFov = this.krpano.get('view.fovmin')\n        this.maxFov = this.krpano.get('view.fovmax')\n        this.initFov = this.krpano.get('view.fov')\n      },\n      //热点初始化\n      initHotSpot() {\n        this.sceneList[this.currentSceneIndex].hotspots = []\n        this.hotspotList = []\n        this.krpano.get('hotspot').getArray().forEach((hotspot) => {\n          if (hotspot.name != 'webvr_prev_scene' && hotspot.name != 'webvr_next_scene' && hotspot.name != 'vr_cursor') {\n            this.hotspotList.push(hotspot)\n            this.sceneList[this.currentSceneIndex].hotspots.push(hotspot)\n            this.initHotspotEvent(hotspot)\n          }\n        })\n      },\n      //切换操作模块\n      changeModule(module) {\n        this.module = module\n      },\n      //切换当前场景\n      changeScene(scene) {\n        if (this.currentSceneIndex == scene.index) return\n        this.currentSceneIndex = scene.index\n        this.krpano.call('loadscene(' + scene.name + ')');\n        let currentScene = this.sceneList[this.currentSceneIndex]\n        //加载临时存储数据应用于krpano\n        //自动旋转\n        if (currentScene.autorotate) {\n          this.krpano.set('autorotate.enabled', currentScene.autorotate.enabled)\n          this.krpano.set('autorotate.waittime', currentScene.autorotate.waitTime)\n        }\n        if (this.autoSpinFlag) this.krpano.get('autorotate').interrupt()\n        //视角\n        if (currentScene.initH) this.krpano.set('view.hlookat', currentScene.initH)\n        if (currentScene.initV) this.krpano.set('view.vlookat', currentScene.initV)\n        if (currentScene.fovmax) this.krpano.set('view.fovmax', currentScene.fovmax)\n        if (currentScene.fovmin) this.krpano.set('view.fovmin', currentScene.fovmin)\n        if (currentScene.fov) this.krpano.set('view.fov', currentScene.fov)\n        //热点\n        if (currentScene.hotspots && currentScene.hotspotsModifyFlag) {\n          //清除原有热点\n          this.krpano.get('hotspot').getArray().forEach((hotspot) => {\n            if (hotspot.name != 'webvr_prev_scene' && hotspot.name != 'webvr_next_scene' && hotspot.name != 'vr_cursor') {\n              this.krpano.call('removehotspot(' + hotspot.name + ')')\n            }\n          })\n          //添加存储数据热点\n          currentScene.hotspots.forEach((hotspot) => {\n            this.krpano.call('addhotspot(' + hotspot.name + ');');\n            this.krpano.set('hotspot[' + hotspot.name + '].ath', hotspot.ath);\n            this.krpano.set('hotspot[' + hotspot.name + '].atv', hotspot.atv);\n            this.krpano.set('hotspot[' + hotspot.name + '].linkedscene', hotspot.linkedscene);\n            this.krpano.set('hotspot[' + hotspot.name + '].dive', hotspot.dive);\n            this.krpano.get('hotspot[' + hotspot.name + ']').loadstyle(hotspot.style);\n          })\n        }\n        //初始化模块数据\n        this.initView()\n        this.initHotSpot()\n      },\n      //设置为home页\n      setWelcome(index) {\n        this.welcomeSceneIndex = index\n        this.toSaveFlag = true\n      },\n      //保存\n      save() {\n        if (!this.toSaveFlag) return\n        if (this.requesting) {\n          alert('保存中，请稍后再试')\n          return\n        }\n        this.requesting = true\n        let data = []\n        this.sceneList.forEach((scene) => {\n          let sceneData = {\n            index: scene.index,\n            name: scene.name,\n            welcomeFlag: scene.index == this.welcomeSceneIndex,\n            autorotate: scene.autorotate ? scene.autorotate : null,\n            fov: scene.fov ? scene.fov : null,\n            fovmax: scene.fovmax ? scene.fovmax : null,\n            fovmin: !isNaN(Number.parseInt(scene.fovmin)) ? scene.fovmin : null,\n            initH: scene.initH ? scene.initH : null,\n            initV: scene.initV ? scene.initV : null\n          }\n          if (scene.hotspots) {\n            let hotSpots = []\n            scene.hotspots.forEach((hotspot) => {\n              hotSpots.push({\n                ath: hotspot.ath,\n                atv: hotspot.atv,\n                name: hotspot.name,\n                linkedscene: hotspot.linkedscene,\n                style: hotspot.style,\n                dive: hotspot.dive\n              })\n            })\n            sceneData.hotSpots = hotSpots\n          }\n          data.push(sceneData)\n        })\n        console.log(data)\n        fetch('/server/save', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json; charset=utf-8'\n          },\n          body: JSON.stringify(data)\n        }).then((res) => {\n          this.requesting = false\n          if (res.status === 200) {\n            res.text().then((resText) => {\n              this.toSaveFlag = false\n              alert(resText)\n            })\n          } else {\n            alert('系统异常')\n          }\n        }, () => {\n          this.requesting = false\n          alert('系统异常')\n        })\n      },\n      //预览\n      preview() {\n        window.open('../static/tour.html')\n      },\n      //显示修改场景弹窗\n      showModifySceneName(scene) {\n        this.toModifyScene = {\n          name: scene.name,\n          index: scene.index\n        }\n        this.showModifySceneNameFlag = true\n      },\n      //修改场景名称\n      modifySceneName() {\n        if (!this.sceneNameValid) return\n        //判断是否重复\n        let repeatFlag = false\n        for (let scene of this.sceneList) {\n          if (scene.name == this.toModifyScene.name) {\n            repeatFlag = true\n            break\n          }\n        }\n        if (repeatFlag) {\n          alert('场景名称重复')\n          return\n        }\n        //修改场景名称（相关联的热点，当前场景scene名称也需修改）\n        let oldName = this.sceneList[this.toModifyScene.index].name.toString()\n        let newName = this.toModifyScene.name.toString()\n        //修改krpano场景对象名称\n        this.krpano.get('scene').renameItem(oldName, newName)\n        this.sceneList[this.toModifyScene.index].name = newName\n        //修改krpano热点指向场景名称\n        this.sceneList.forEach((scene) => {\n          if (scene.hotspots && scene.index != this.toModifyScene.index) {\n            scene.hotspots.forEach((hotspot) => {\n              if (hotspot.linkedscene == oldName) {\n                hotspot.linkedscene = newName\n                scene.hotspotsModifyFlag = true\n                if (scene.index == this.currentSceneIndex)\n                  this.krpano.set('hotspot[' + hotspot.name + '].linkedscene', newName)\n              }\n            })\n          }\n        })\n        this.showModifySceneNameFlag = false\n        this.toSaveFlag = true\n      },\n      //关闭修改场景弹窗\n      closeModifySceneName() {\n        this.showModifySceneNameFlag = false\n      },\n      //设为初始视角\n      setDefaultView() {\n        let fov = Math.round(this.krpano.get('view.fov'))\n        this.initFov = fov\n        this.sceneList[this.currentSceneIndex].fov = fov\n        this.sceneList[this.currentSceneIndex].initH = this.krpano.get('view.hlookat')\n        this.sceneList[this.currentSceneIndex].initV = this.krpano.get('view.vlookat')\n        this.toSaveFlag = true\n      },\n      //自动旋转变更\n      updatedAutoSpin() {\n        this.krpano.set('autorotate.enabled', this.autoSpinFlag)\n        this.krpano.set('autorotate.waittime', this.autoSpinWaitingTime)\n        if (this.autoSpinFlag) this.krpano.get('autorotate').interrupt()\n        this.sceneList[this.currentSceneIndex].autorotate = {\n          enabled: this.autoSpinFlag,\n          waitTime: Number(this.autoSpinWaitingTime)\n        }\n        this.toSaveFlag = true\n      },\n      //视角条拖动\n      moveInitFov() {\n        if (this.initFovMoveFlag) {\n          let slider = document.querySelector('.view-top-slider')\n          let left = window.event.clientX - slider.offsetLeft\n          if (left < Math.round(this.minFov * slider.clientWidth / 180)) {\n            if (left < -6) this.stopMoveInitFov()\n            left = Math.round(this.minFov * slider.clientWidth / 180)\n          } else if (left > Math.round(this.maxFov * slider.clientWidth / 180)) {\n            if (left > slider.clientWidth + 6) this.stopMoveInitFov()\n            left = Math.round(this.maxFov * slider.clientWidth / 180)\n          }\n          this.initFovLeft = left\n          this.krpano.set('view.fov', this.initFov)\n          this.sceneList[this.currentSceneIndex].fov = this.initFov\n          this.toSaveFlag = true\n        }\n      },\n      startMoveInitFov() {\n        this.initFovMoveFlag = true\n        this.moveInitFov()\n      },\n      stopMoveInitFov() {\n        this.initFovMoveFlag = false\n      },\n      //热点事件初始化\n      initHotspotEvent(hotspot) {\n        let thisVue = this\n        hotspot.ondown = function () {\n          thisVue.selectedHotspot = hotspot\n          thisVue.selectHotspot()\n          thisVue.isHotspotMoving = true\n        }\n        hotspot.onover = function () {\n          thisVue.selectedHotspot = hotspot\n        }\n        hotspot.onout = function () {\n          thisVue.selectedHotspot = {}\n        }\n        hotspot.onclick = null\n      },\n      //热点坐标与鼠标坐标偏移计算\n      selectHotspot() {\n        this.krpano.call('screentosphere(mouse.x, mouse.y, mouseath, mouseatv);')\n        this.selectedHotspot.athDis = this.selectedHotspot.ath - this.krpano.get('mouseath')\n        this.selectedHotspot.atvDis = this.selectedHotspot.atv - this.krpano.get('mouseatv')\n      },\n      //热点移动\n      moveHotspot() {\n        if (this.isHotspotMoving) {\n          this.krpano.call('screentosphere(mouse.x, mouse.y, mouseath, mouseatv);')\n          this.krpano.set('hotspot[' + this.selectedHotspot.name + '].ath'\n            , this.krpano.get(\"mouseath\") + this.selectedHotspot.athDis)\n          this.krpano.set('hotspot[' + this.selectedHotspot.name + '].atv'\n            , this.krpano.get(\"mouseatv\") + this.selectedHotspot.atvDis)\n        }\n      },\n      //显示热点详情\n      showHotspotDetail(hotspotItem) {\n        this.currentHotspot = hotspotItem ? hotspotItem : {\n          style: this.hotspotStyleList[0].name,\n          linkedscene: this.sceneListExceptCurrent[0].name,\n          dive: true\n        }\n        this.showHotspotDetailFlag = true\n      },\n      //隐藏热点详情\n      hideHotspotDetail() {\n        this.showHotspotDetailFlag = false\n      },\n      //选择热点图标样式\n      selectHotspotStyle(name) {\n        this.currentHotspot.style = name\n      },\n      //选择切换场景热点目标场景\n      selectHotspotLinkedScene(name) {\n        this.currentHotspot.linkedscene = name\n      },\n      //保存当前热点变动\n      saveCurrentHotspot() {\n        if (!this.currentHotspot.name) {\n          // 计算中间位置的球面坐标\n          this.krpano.set('halfHeight', this.krpano.get('stageheight') / 2)\n          this.krpano.set('halfWidth', this.krpano.get('stagewidth') / 2)\n          this.krpano.call('screentosphere(halfWidth,halfHeight,init_h,init_v);')\n          let init_h = this.krpano.get('init_h')\n          let init_v = this.krpano.get('init_v')\n          //添加热点\n          let name = 'spot' + new Date().getTime()\n          this.krpano.call('addhotspot(' + name + ');')\n          this.krpano.get('hotspot[' + name + ']').loadstyle(this.currentHotspot.style)\n          this.krpano.set('hotspot[' + name + '].ath', init_h)\n          this.krpano.set('hotspot[' + name + '].atv', init_v)\n          this.krpano.set('hotspot[' + name + '].linkedscene', this.currentHotspot.linkedscene)\n          this.krpano.set('hotspot[' + name + '].dive', this.currentHotspot.dive)\n        }\n        this.initHotSpot()\n        this.showHotspotDetailFlag = false\n        this.toSaveFlag = true\n      },\n      //删除热点\n      deleteCurrentHotspot() {\n        this.krpano.call('removehotspot(' + this.currentHotspot.name + ')')\n        this.initHotSpot()\n        this.showHotspotDetailFlag = false\n        this.toSaveFlag = true\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '~bulma/sass/utilities/variables';\n\n  #editor {\n    width: 100%;\n  }\n\n  .to-save {\n    position: relative;\n    top: -45px;\n    left: 28px;\n    width: 6px;\n    height: 6px;\n    background-color: red;\n    border-radius: 3px;\n  }\n\n  .line {\n    width: 100%;\n    height: 0;\n    border-top: solid black 1px;\n    border-bottom: solid 1px #4b4b4b;\n    user-select: none;\n  }\n\n  .func-div {\n    border-right: solid 1px black;\n    user-select: none;\n\n    .func-button {\n      cursor: pointer;\n      height: 50px;\n      .func-button-text {\n        font-size: 5px;\n      }\n      span {\n        width: 100%;\n      }\n    }\n\n    .func-selected {\n      background-color: #427afb;\n    }\n  }\n\n  .camera {\n    user-select: none;\n\n    .camera-button {\n      position: absolute;\n      left: 42%;\n      top: 30%;\n      transform: translate(-61px, 0);\n    }\n\n    .camera-top {\n      position: absolute;\n      width: 32%;\n      height: 0;\n      border-top: white 1px dotted;\n      top: 25%;\n      left: 26%;\n    }\n\n    .camera-bottom {\n      position: absolute;\n      width: 32%;\n      height: 0;\n      border-top: white 1px dotted;\n      top: 75%;\n      left: 26%;\n    }\n\n    .camera-left {\n      position: absolute;\n      width: 0;\n      height: 40%;\n      border-left: white 1px dotted;\n      top: 30%;\n      left: 22%;\n    }\n\n    .camera-right {\n      position: absolute;\n      width: 0;\n      height: 40%;\n      border-right: white 1px dotted;\n      top: 30%;\n      right: 38%;\n    }\n\n    .camera-left-top {\n      position: absolute;\n      width: 0;\n      height: 5%;\n      border: white 2px solid;\n      top: 25%;\n      left: 22%;\n    }\n\n    .camera-top-left {\n      position: absolute;\n      width: 4%;\n      height: 0;\n      border: white 2px solid;\n      top: 25%;\n      left: 22%;\n    }\n\n    .camera-top-right {\n      position: absolute;\n      width: 4%;\n      height: 0;\n      border: white 2px solid;\n      top: 25%;\n      right: 38%;\n    }\n\n    .camera-right-top {\n      position: absolute;\n      width: 0;\n      height: 5%;\n      border: white 2px solid;\n      top: 25%;\n      right: 38%;\n    }\n\n    .camera-left-bottom {\n      position: absolute;\n      width: 0;\n      height: 5%;\n      border: white 2px solid;\n      bottom: 25%;\n      left: 22%;\n    }\n\n    .camera-bottom-left {\n      position: absolute;\n      width: 4%;\n      height: 0;\n      border: white 2px solid;\n      bottom: 25%;\n      left: 22%;\n    }\n\n    .camera-bottom-right {\n      position: absolute;\n      width: 4%;\n      height: 0;\n      border: white 2px solid;\n      bottom: 25%;\n      right: 38%;\n    }\n\n    .camera-right-bottom {\n      position: absolute;\n      width: 0;\n      height: 5%;\n      border: white 2px solid;\n      bottom: 25%;\n      right: 38%;\n    }\n  }\n\n  .scene-module {\n    user-select: none;\n\n    .scene-title {\n      line-height: 50px;\n      padding-left: 10px;\n      margin: 0;\n    }\n\n    .scene-item {\n      margin: 10px 0 10px 10px;\n      height: 168px;\n      width: 168px;\n      border: 2px #333333 solid;\n      cursor: pointer;\n\n      .scene-name {\n        line-height: 36px;\n        height: 36px;\n        width: 164px;\n        padding-left: 5px;\n      }\n\n      a {\n        height: 64px;\n        width: 36px;\n        background-color: rgb(70, 70, 70) !important;\n        border-radius: 0;\n        border: 0;\n        &:hover {\n          background-color: #427afb !important;\n          color: white !important;\n        }\n      }\n\n      .pencil {\n        position: relative;\n        left: 128px;\n        bottom: 128px;\n        height: 64px;\n        width: 36px;\n      }\n\n      .home {\n        position: relative;\n        left: 128px;\n        bottom: 128px;\n        height: 64px;\n        width: 36px;\n\n        .home-selected {\n          background-color: #427afb !important;\n        }\n      }\n\n      &:hover {\n        border-color: #fbd14b;\n      }\n    }\n\n    .scene-item-selected {\n      border-color: #fbd14b;\n    }\n  }\n\n  .modify-scene-name {\n    padding: 30px;\n    width: 20rem;\n\n    a {\n      margin-top: 20px;\n      width: 100%;\n    }\n  }\n\n  .view-module {\n    user-select: none;\n\n    input {\n      text-align: center;\n    }\n\n    .view-content {\n      margin: 20px 10px 23px 10px;\n      height: auto;\n\n      .view-switch {\n        float: right;\n      }\n\n      .view-slider {\n        padding-bottom: 35px;\n\n        .view-top-slider {\n          margin: 0 6px;\n          position: relative;\n          bottom: -7px;\n          text-align: center;\n          height: 21px;\n          user-select: none;\n\n          span {\n            position: absolute;\n            transform: translateX(-50%);\n          }\n        }\n      }\n\n      label {\n        font-weight: 100;\n        font-size: 15px;\n        margin-bottom: 15px;\n        input {\n          height: 22px;\n          float: right;\n          width: 40px;\n        }\n        &:hover {\n          color: white;\n        }\n      }\n\n      span {\n        width: 20px;\n        cursor: pointer;\n        user-select: none;\n        font-size: 12px;\n      }\n    }\n  }\n\n  .switch {\n    --height: 22px;\n\n    input {\n      opacity: 0;\n      display: inline-block;\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      cursor: pointer;\n    }\n\n    position: relative;\n    border-radius: calc(0.8 * var(--height));\n    width: calc(1.625 * var(--height));\n    height: var(--height);\n    background-color: $border;\n    border: 1px solid $border;\n    cursor: pointer;\n\n    &:before,\n    &:after {\n      content: \" \";\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: calc(var(--height) - 2px);\n      border-radius: calc((var(--height) - 2px) / 2);\n      transition: .233s;\n    }\n\n    &:before {\n      width: calc(1.625 * var(--height) - 2px);\n      background-color: $grey-lighter;\n    }\n\n    &:after {\n      width: calc(var(--height) - 2px);\n      background-color: #FFF;\n      box-shadow: 0 2px 3px rgba(17, 17, 17, 0.1);\n    }\n  }\n\n  .switch-checked {\n    border-color: $info;\n    background-color: $info;\n    &:before {\n      transform: scale(0);\n    }\n    &:after {\n      transform: translateX(calc(0.625 * var(--height)));\n    }\n  }\n\n  .hotspot-module {\n    div {\n      height: auto;\n    }\n\n    .hotspot-add {\n      padding: 10px;\n\n      a {\n        width: 100%;\n        height: 30px;\n      }\n    }\n\n    .hotspot-list {\n\n      .hotspot-item {\n        margin: 10px 0;\n        padding: 4px 10px;\n        background-color: #3a3a3a;\n        cursor: pointer;\n        div {\n          line-height: 32px;\n          height: auto;\n          color: white;\n          text-align: center;\n        }\n        img {\n          height: 32px;\n          width: auto;\n          float: left;\n        }\n        &:hover {\n          background-color: #427afb;\n        }\n      }\n\n      .hotspot-item-selected {\n        background-color: #427afb;\n      }\n    }\n  }\n\n  .hotspot-detail {\n    height: 100%;\n    width: 16.66%;\n    background-color: #333333;\n    z-index: 999;\n    position: absolute;\n    color: white;\n    right: 0;\n    top: 0;\n\n    div {\n      height: auto;\n    }\n\n    .hotspot-detail-header {\n      height: 50px;\n      line-height: 50px;\n      padding-left: 20px;\n      font-size: 18px;\n      a {\n        margin: 9px;\n      }\n    }\n\n    .hotspot-detail-content {\n      padding: 10px 0 10px 20px;\n      label {\n        font-weight: 100;\n      }\n\n      .hotspot-detail-style-list {\n        width: 100%;\n        max-height: 150px;\n        overflow-y: auto;\n        overflow-x: hidden;\n        padding-right: 12px;\n\n        .hotspot-detail-style {\n          cursor: pointer;\n          border: solid #333333 1px;\n          &:hover {\n            border-color: #fbd14b;\n          }\n        }\n\n        .hotspot-detail-style-selected {\n          border-color: #fbd14b;\n        }\n      }\n\n      .hotspot-detail-scene-list {\n        width: 100%;\n        max-height: 350px;\n        overflow-y: auto;\n        overflow-x: hidden;\n        padding-right: 12px;\n\n        .hotspot-detail-scene {\n          cursor: pointer;\n          border: solid #333333 2px;\n          &:hover {\n            border-color: #fbd14b;\n          }\n        }\n        .hotspot-detail-scene-selected {\n          border-color: #fbd14b;\n        }\n      }\n\n      .hotspot-detail-button {\n        padding-right: 20px;\n        button {\n          width: 100%;\n        }\n      }\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Editor.vue?45ff54a4","<template>\n  <div>\n    <transition name=\"fade\">\n      <div class=\"dialog\" v-show=\"show\">\n        <div class=\"dialog-head\">\n          <h3>{{title}}</h3>\n          <span class=\"dialog-close\" @click=\"close\"><a class=\"delete is-medium\"></a></span>\n        </div>\n        <slot></slot>\n      </div>\n    </transition>\n    <div class=\"alpha\" v-show=\"show\"></div>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'mydialog',\n    props: {\n      show: {\n        type: Boolean,\n        default: false\n      },\n      title: {\n        type: String,\n        default: ''\n      }\n    },\n    methods: {\n      close(){\n        this.$emit('close')\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .dialog {\n    background-color: #fff;\n    position: fixed;\n    z-index: 999;\n    left: 50%;\n    top: 20%;\n    transform: translate3d(-50%, 0, 0);\n    transition: all .4s ease;\n    height: auto;\n  }\n\n  .dialog-head {\n    position: relative;\n    height: 50px;\n    background-color: #374D61;\n    h3 {\n      line-height: 50px;\n      padding-left: 15px;\n      color: #fff;\n      font-size: 16px;\n    }\n  }\n\n  .dialog-close {\n    position: absolute;\n    right: 10px;\n    top: 12px;\n  }\n\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .5s\n  }\n\n  .fade-enter, .fade-leave-active {\n    opacity: 0\n  }\n\n  .alpha {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, .5);\n    z-index: 998;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// MyDialog.vue?2b30bf8c","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport Editor from './Editor'\r\n//noinspection ES6UnusedImports\r\nimport Bulma from 'bulma'\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nlet vm = new Vue({\r\n  el: '#editor',\r\n  template: '<Editor ref=\"editor\"/>',\r\n  components: {Editor}\r\n})\r\n\r\nwindow.onready = function () {\r\n  vm.$refs.editor.onready()\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1fa42018\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyDialog.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyDialog.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1fa42018\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyDialog.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1fa42018\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MyDialog.vue\n// module id = 70\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.show),\n      expression: \"show\"\n    }],\n    staticClass: \"dialog\"\n  }, [_c('div', {\n    staticClass: \"dialog-head\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-close\",\n    on: {\n      \"click\": _vm.close\n    }\n  }, [_c('a', {\n    staticClass: \"delete is-medium\"\n  })])]), _vm._v(\" \"), _vm._t(\"default\")], 2)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.show),\n      expression: \"show\"\n    }],\n    staticClass: \"alpha\"\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1fa42018\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyDialog.vue\n// module id = 71\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"editor\"\n    }\n  }, [_c('div', {\n    staticClass: \"columns is-gapless\"\n  }, [_c('div', {\n    staticClass: \"column is-2 func-div\"\n  }, [_c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.save()\n      }\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.toSaveFlag),\n      expression: \"toSaveFlag\"\n    }],\n    staticClass: \"to-save\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.preview()\n      }\n    }\n  }, [_vm._m(1), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"预览\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"100px\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    class: {\n      'func-selected': _vm.module == 0\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeModule(0)\n      }\n    }\n  }, [_vm._m(2), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"场景\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    class: {\n      'func-selected': _vm.module == 1\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeModule(1)\n      }\n    }\n  }, [_vm._m(3), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"视角\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"has-text-centered has-text-white func-button\",\n    class: {\n      'func-selected': _vm.module == 2\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.changeModule(2)\n      }\n    }\n  }, [_vm._m(4), _vm._v(\" \"), _c('span', {\n    staticClass: \"func-button-text\"\n  }, [_vm._v(\"热点\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column is-10\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 0),\n      expression: \"module == 0\"\n    }],\n    staticClass: \"scene-module has-text-white\"\n  }, [_c('h5', {\n    staticClass: \"title is-5 has-text-white scene-title\"\n  }, [_vm._v(\"场景列表\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _vm._l((_vm.sceneList), function(scene) {\n    return _c('div', {\n      staticClass: \"scene-item\",\n      class: {\n        'scene-item-selected': scene.index == _vm.currentSceneIndex\n      }\n    }, [_c('div', {\n      staticClass: \"scene-name\",\n      on: {\n        \"click\": function($event) {\n          _vm.changeScene(scene)\n        }\n      }\n    }, [_vm._v(_vm._s(scene.name))]), _vm._v(\" \"), _c('figure', {\n      staticClass: \"image is-128x128\",\n      on: {\n        \"click\": function($event) {\n          _vm.changeScene(scene)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": scene.thumburl\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"pencil\",\n      on: {\n        \"click\": function($event) {\n          _vm.showModifySceneName(scene)\n        }\n      }\n    }, [_vm._m(5, true)]), _vm._v(\" \"), _c('div', {\n      staticClass: \"home\",\n      on: {\n        \"click\": function($event) {\n          _vm.setWelcome(scene.index)\n        }\n      }\n    }, [_c('a', {\n      staticClass: \"button is-primary is-inverted is-outlined\",\n      class: {\n        'home-selected': scene.index == _vm.welcomeSceneIndex\n      }\n    }, [_vm._m(6, true)])])])\n  })], 2), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 1),\n      expression: \"module == 1\"\n    }],\n    staticClass: \"view-module has-text-white\",\n    on: {\n      \"mousemove\": function($event) {\n        _vm.moveInitFov()\n      },\n      \"mouseup\": function($event) {\n        _vm.stopMoveInitFov()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"view-content\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"\\n            自动旋转\\n            \"), _c('label', {\n    staticClass: \"switch is-info view-switch\",\n    class: {\n      'switch-checked': _vm.autoSpinFlag\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.autoSpinFlag),\n      expression: \"autoSpinFlag\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.autoSpinFlag) ? _vm._i(_vm.autoSpinFlag, null) > -1 : (_vm.autoSpinFlag)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.updatedAutoSpin()\n      },\n      \"__c\": function($event) {\n        var $$a = _vm.autoSpinFlag,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.autoSpinFlag = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.autoSpinFlag = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.autoSpinFlag = $$c\n        }\n      }\n    }\n  })])]), _vm._v(\" \"), _c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"\\n            等待时间（秒）\\n            \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.autoSpinWaitingTime),\n      expression: \"autoSpinWaitingTime\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": !_vm.autoSpinFlag\n    },\n    domProps: {\n      \"value\": (_vm.autoSpinWaitingTime)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.updatedAutoSpin()\n      },\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.autoSpinWaitingTime = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"view-content\"\n  }, [_c('div', {\n    staticClass: \"view-slider\"\n  }, [_c('div', {\n    staticClass: \"view-top-slider\",\n    on: {\n      \"mousedown\": function($event) {\n        _vm.startMoveInitFov()\n      }\n    }\n  }, [_c('span', {\n    style: ({\n      left: _vm.initFovLeft + 'px'\n    })\n  }, [_c('i', {\n    staticClass: \"fa fa-map-marker\"\n  })])]), _vm._v(\" \"), _c('vue-slider', {\n    attrs: {\n      \"max\": 180,\n      \"tooltipDir\": ['bottom', 'bottom'],\n      \"dotSize\": 12,\n      \"show\": _vm.module == 1\n    },\n    model: {\n      value: (_vm.sliderValue),\n      callback: function($$v) {\n        _vm.sliderValue = $$v\n      },\n      expression: \"sliderValue\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"columns has-text-centered\"\n  }, [_c('div', {\n    staticClass: \"column is-4\"\n  }, [_c('span', [_vm._v(\"最近\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.minFov),\n      expression: \"minFov\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.minFov)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.minFov = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column is-4\"\n  }, [_c('span', [_vm._v(\"初始\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.initFov),\n      expression: \"initFov\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.initFov)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.initFov = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column is-4\"\n  }, [_c('span', [_vm._v(\"最远\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.maxFov),\n      expression: \"maxFov\"\n    }],\n    staticClass: \"input is-small\",\n    attrs: {\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.maxFov)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.maxFov = $event.target.value\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 2),\n      expression: \"module == 2\"\n    }],\n    staticClass: \"hotspot-module\"\n  }, [_c('div', {\n    staticClass: \"hotspot-add\"\n  }, [_c('a', {\n    staticClass: \"button is-small is-info\",\n    on: {\n      \"click\": function($event) {\n        _vm.showHotspotDetail()\n      }\n    }\n  }, [_vm._v(\"添加热点\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"hotspot-list\"\n  }, _vm._l((_vm.hotspotList), function(hotspotItem) {\n    return _c('div', {\n      staticClass: \"hotspot-item\",\n      class: {\n        'hotspot-item-selected': _vm.selectedHotspot.name == hotspotItem.name\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.showHotspotDetail(hotspotItem)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": hotspotItem.url\n      }\n    }), _vm._v(\" \"), _c('div', [_vm._v(\"场景切换\")])])\n  }))])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showHotspotDetailFlag),\n      expression: \"showHotspotDetailFlag\"\n    }],\n    staticClass: \"hotspot-detail\"\n  }, [_c('div', {\n    staticClass: \"hotspot-detail-header\"\n  }, [_c('span', [_vm._v(_vm._s(_vm.currentHotspot.name ? '编辑' : '新增') + \"热点\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"delete is-large is-pulled-right\",\n    on: {\n      \"click\": function($event) {\n        _vm.hideHotspotDetail()\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"hotspot-detail-content\"\n  }, [_c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"图标样式\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"columns is-multiline hotspot-detail-style-list\"\n  }, _vm._l((_vm.hotspotStyleList), function(style) {\n    return _c('div', {\n      staticClass: \"column is-4\"\n    }, [_c('div', {\n      staticClass: \"hotspot-detail-style\",\n      class: {\n        'hotspot-detail-style-selected': style.name == _vm.currentHotspot.style\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectHotspotStyle(style.name)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": style.imgUrl\n      }\n    })])])\n  }))]), _vm._v(\" \"), _vm._m(7), _vm._v(\" \"), _vm._m(8), _vm._v(\" \"), _c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"目标场景\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"columns is-multiline hotspot-detail-scene-list\"\n  }, _vm._l((_vm.sceneListExceptCurrent), function(scene) {\n    return _c('div', {\n      staticClass: \"column is-6 has-text-centered\"\n    }, [_c('div', {\n      staticClass: \"hotspot-detail-scene\",\n      class: {\n        'hotspot-detail-scene-selected': scene.name == _vm.currentHotspot.linkedscene\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.selectHotspotLinkedScene(scene.name)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": scene.thumburl\n      }\n    }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(scene.name))])])])\n  }))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"field hotspot-detail-button\"\n  }, [_c('button', {\n    staticClass: \"button is-info\",\n    on: {\n      \"click\": function($event) {\n        _vm.saveCurrentHotspot()\n      }\n    }\n  }, [_vm._v(\"确定\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentHotspot.name),\n      expression: \"currentHotspot.name\"\n    }],\n    staticClass: \"field hotspot-detail-button\"\n  }, [_c('button', {\n    staticClass: \"button is-danger\",\n    on: {\n      \"click\": function($event) {\n        _vm.deleteCurrentHotspot()\n      }\n    }\n  }, [_vm._v(\"删除\")])])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.module == 1),\n      expression: \"module == 1\"\n    }],\n    staticClass: \"camera\"\n  }, [_c('div', {\n    staticClass: \"camera-top\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-bottom\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-left\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-right\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-left-top\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-top-left\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-top-right\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-right-top\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-left-bottom\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-bottom-left\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-bottom-right\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"camera-right-bottom\"\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"button is-info camera-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.setDefaultView()\n      }\n    }\n  }, [_vm._v(\"设为初始视角\")])]), _vm._v(\" \"), _c('my-dialog', {\n    attrs: {\n      \"show\": _vm.showModifySceneNameFlag,\n      \"title\": \"场景修改\"\n    },\n    on: {\n      \"close\": _vm.closeModifySceneName\n    }\n  }, [_c('div', {\n    staticClass: \"modify-scene-name\"\n  }, [_c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"场景名称\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"control\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.toModifyScene.name),\n      expression: \"toModifyScene.name\"\n    }],\n    staticClass: \"input\",\n    domProps: {\n      \"value\": (_vm.toModifyScene.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.toModifyScene.name = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('span', [_vm._v(\"场景名称\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"button\",\n    attrs: {\n      \"disabled\": !_vm.sceneNameValid\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.modifySceneName()\n      }\n    }\n  }, [_vm._v(\"确定\")])])])], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-floppy-o\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-search\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-window-restore\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-eye\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-small\"\n  }, [_c('i', {\n    staticClass: \"fa fa-dot-circle-o\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    staticClass: \"button is-primary is-inverted is-outlined\"\n  }, [_c('span', {\n    staticClass: \"icon\"\n  }, [_c('i', {\n    staticClass: \"fa fa-pencil\"\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon\"\n  }, [_c('i', {\n    staticClass: \"fa fa-home\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"热点类型\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"control\"\n  }, [_c('div', {\n    staticClass: \"select is-info is-small\"\n  }, [_c('select', [_c('option', [_vm._v(\"场景切换\")])])])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"field\"\n  }, [_c('label', {\n    staticClass: \"label has-text-white\"\n  }, [_vm._v(\"切换效果\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"control\"\n  }, [_c('div', {\n    staticClass: \"select is-info is-small\"\n  }, [_c('select', [_c('option', [_vm._v(\"淡入淡出\")])])])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-20f007d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/Editor.vue\n// module id = 72\n// module chunks = 1"],"sourceRoot":""}